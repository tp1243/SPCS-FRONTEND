import{r as o,j as t}from"./charts-FoNSDMOs.js";import{p as d}from"./PoliceDashboard-B_6WCH-t.js";import"./react-BzrpNAyj.js";import"./pdf-DU8byqIM.js";import"./index-BMC4Z6Sv.js";import"./icons-CvT1UHUk.js";import"./BrandIcon-CHAwuYok.js";import"./api-BjEggnHr.js";import"./NotificationToast-CycjYKEj.js";import"./index-wqQdJ3sC.js";function E({token:a}){const[m,p]=o.useState([]),[r,l]=o.useState(null);o.useEffect(()=>{d.listComplaints(a,{fields:"summary",limit:200}).then(i=>{const c=i.complaints.map(e=>e.location||{}).filter(e=>typeof e.lat=="number"&&typeof e.lng=="number");p(c)}).catch(i=>l(i.message||"Failed to load map data"))},[a]);const s=m[0],n=s?`https://maps.google.com/maps?q=${s.lat},${s.lng}&t=&z=12&ie=UTF8&iwloc=&output=embed`:"https://maps.google.com/maps?q=Navi%20Mumbai&t=&z=11&ie=UTF8&iwloc=&output=embed";return t.jsxs("div",{className:"panel",children:[t.jsx("div",{className:"label",children:"Live Map of Reported Incidents"}),r&&t.jsx("div",{className:"form-error",children:r}),t.jsx("iframe",{title:"map",src:n,style:{width:"100%",minHeight:420,border:0,borderRadius:10}}),t.jsx("div",{className:"muted",style:{marginTop:8},children:"Clusters and heatmap to be added later. Click pins for details in future iteration."})]})}export{E as default};
