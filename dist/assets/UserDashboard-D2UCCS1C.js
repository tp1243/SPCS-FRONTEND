const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Analytics-DD8BBKB1.js","assets/pdf-DU8byqIM.js","assets/charts-FoNSDMOs.js","assets/react-BzrpNAyj.js","assets/index-BMC4Z6Sv.js","assets/icons-CvT1UHUk.js","assets/BrandIcon-CHAwuYok.js","assets/api-Cc3zVDBP.js","assets/NotificationToast-CycjYKEj.js","assets/ProfileSettings-FlutPTlz.js","assets/ProfileSettings-fi-uJVJX.css","assets/useNotificationSound-Cx2IYJLs.js","assets/motion-B__JDtHc.js","assets/index-BW3I4jBn.js","assets/index-ByxMuA5S.css","assets/notifications-DP_hiXwD.css"])))=>i.map(i=>d[i]);
import{_ as ke}from"./pdf-DU8byqIM.js";import{r as n,j as e}from"./charts-FoNSDMOs.js";import{d as le,F as Oe,a as Be,e as Ce,f as pe,g as ze,h as He,i as Ge,j as Ke,k as $e,l as fe,m as Ve,b as ae,c as Qe,n as Ae,o as We,p as _e,q as Fe,r as Je,s as ye,t as Ye,u as Xe,v as Ze,w as et,x as tt}from"./index-BMC4Z6Sv.js";import{B as st}from"./BrandIcon-CHAwuYok.js";import{r as ee,a as at,s as X}from"./api-Cc3zVDBP.js";import{c as ge,N as nt}from"./NotificationToast-CycjYKEj.js";import it from"./ProfileSettings-FlutPTlz.js";import{u as Ie}from"./useNotificationSound-Cx2IYJLs.js";/* empty css                      */import{A as ot,m as lt}from"./motion-B__JDtHc.js";import{u as rt}from"./index-BW3I4jBn.js";const te={async list(s){return ee("/notifications",{method:"GET",headers:{Authorization:`Bearer ${s}`}})},async markRead(s,t){return ee(`/notifications/${t}/read`,{method:"PUT",headers:{Authorization:`Bearer ${s}`}})},async markAllRead(s){return ee("/notifications/read-all",{method:"PUT",headers:{Authorization:`Bearer ${s}`}})}},me={en:{welcome:"Welcome, {username}!",search_placeholder:"Search by title, ID, status",search_btn:"Search",profile_view:"View Profile",profile_edit:"Edit Profile",settings:"Settings",logout:"Logout",no_updates:"No updates",clear_all:"Clear All",notifications_updates:"Notifications & Updates",unread:"Unread",refresh:"Refresh",mark_all_read:"Mark all read",notifications_loading:"Loading notifications…",notifications_search_placeholder:"Search updates",filter_all:"All",filter_unread:"Unread",overview_total:"Total Complaints Filed",overview_solved:"Complaints Solved",overview_pending:"Pending Complaints",overview_review:"Under Review",overview_quick:"Quick actions: Use the sidebar to submit or track a complaint.",complaints_search_placeholder:"Search complaints by ID, crime, or station",clear:"Clear",table_id:"ID",table_title:"Title",table_date:"Date",table_status:"Status",table_station:"Station",table_actions:"Actions",no_complaints_yet:"No complaints yet.",unassigned:"Unassigned",download_pdf:"Download PDF",form_title:"Title",form_type:"Type",form_select:"Select…",crime_robbery:"Robbery",crime_fraud:"Fraud",crime_harassment:"Harassment",crime_accident:"Accident",crime_theft:"Theft",crime_murder:"Murder",form_description:"Description",form_date:"Date",form_time:"Time",form_contact:"Contact",form_location_address:"Location Address",form_latitude:"Latitude",form_longitude:"Longitude",loc_status:"Status",loc_accuracy:"Accuracy ±",loc_updated:"Updated",use_my_location:"Use my location",upload_photo:"Upload Photo",remove_photo:"Remove photo",submit_btn:"Submit",submitting:"Submitting…",sending:"Sending…",uploading_photo:"Uploading photo…",finalizing:"Finalizing…",no_notifications:"No notifications to show.",mark_read:"Mark read",sidebar_overview:"Dashboard Overview",sidebar_new:"Report New Complaint",sidebar_my:"My Complaints",sidebar_track:"Track Complaint (Map View)",sidebar_notifications:"Notifications / Updates",sidebar_profile:"Profile Settings",sidebar_support:"Help & Support",sidebar_feedback:"Feedback",logout_link:"Logout",open_in_maps:"Open in Maps",support_heading:"Help & Support",tab_chat:"Live Chat",tab_feedback:"Feedback",chat_toggle_open:"Open",type_message_placeholder:"Type your message…",send_btn:"Send",feedback_heading:"Share Feedback",feedback_optional_label:"Feedback (optional)",send_feedback:"Send Feedback",recent_feedback:"Recent Feedback",loading_dashboard:"Loading dashboard…",loading_analytics:"Loading analytics…",open_menu:"Open menu",close_menu:"Close menu",faqs:"FAQs",support_intro:"Find answers in FAQs, chat live, or share feedback.",view_details:"View Details",close:"Close",type:"Type",description:"Description",no_description:"No description provided.",location:"Location",routed_station:"Routed Station",locating:"Locating…",no_faqs:"No FAQs found. Try different keywords."},hi:{welcome:"स्वागत है, {username}!",search_placeholder:"शीर्षक, आईडी, स्थिति से खोजें",search_btn:"खोजें",profile_view:"प्रोफ़ाइल देखें",profile_edit:"प्रोफ़ाइल संपादित करें",settings:"सेटिंग्स",logout:"लॉग आउट",no_updates:"कोई अपडेट नहीं",clear_all:"सब साफ करें",notifications_updates:"सूचनाएँ और अपडेट",unread:"अपठित",refresh:"ताज़ा करें",mark_all_read:"सबको पढ़ा चिह्नित करें",notifications_loading:"सूचनाएँ लोड हो रही हैं…",notifications_search_placeholder:"अपडेट खोजें",filter_all:"सभी",filter_unread:"अपठित",overview_total:"कुल दर्ज शिकायतें",overview_solved:"सुलझी शिकायतें",overview_pending:"लंबित शिकायतें",overview_review:"समीक्षा में",overview_quick:"त्वरित क्रियाएँ: शिकायत दर्ज या ट्रैक करने के लिए साइडबार का उपयोग करें.",complaints_search_placeholder:"आईडी, अपराध या थाने से शिकायतें खोजें",clear:"हटाएँ",table_id:"आईडी",table_title:"शीर्षक",table_date:"तिथि",table_status:"स्थिति",table_station:"थाना",table_actions:"क्रियाएँ",no_complaints_yet:"अभी कोई शिकायत नहीं.",unassigned:"अनियोजित",download_pdf:"पीडीएफ डाउनलोड करें",form_title:"शीर्षक",form_type:"प्रकार",form_select:"चुनें…",crime_robbery:"डकैती",crime_fraud:"धोखाधड़ी",crime_harassment:"उत्पीड़न",crime_accident:"दुर्घटना",crime_theft:"चोरी",crime_murder:"हत्या",form_description:"विवरण",form_date:"तिथि",form_time:"समय",form_contact:"संपर्क",form_location_address:"स्थान का पता",form_latitude:"अक्षांश",form_longitude:"देशांतर",loc_status:"स्थिति",loc_accuracy:"शुद्धता ±",loc_updated:"अद्यतन",use_my_location:"मेरा स्थान उपयोग करें",upload_photo:"फोटो अपलोड करें",remove_photo:"फोटो हटाएँ",submit_btn:"जमा करें",submitting:"जमा हो रहा है…",sending:"भेजा जा रहा है…",uploading_photo:"फोटो अपलोड हो रहा है…",finalizing:"अंतिम रूप दिया जा रहा है…",no_notifications:"दिखाने के लिए कोई सूचनाएँ नहीं.",mark_read:"पढ़ा चिह्नित करें",sidebar_overview:"डैशबोर्ड अवलोकन",sidebar_new:"नई शिकायत दर्ज करें",sidebar_my:"मेरी शिकायतें",sidebar_track:"शिकायत ट्रैक करें (मानचित्र)",sidebar_notifications:"सूचनाएँ / अपडेट",sidebar_profile:"प्रोफ़ाइल सेटिंग्स",sidebar_support:"मदद और सहायता",sidebar_feedback:"प्रतिक्रिया",logout_link:"लॉग आउट",open_in_maps:"मैप्स में खोलें",support_heading:"मदद और सहायता",tab_chat:"लाइव चैट",tab_feedback:"प्रतिक्रिया",chat_toggle_open:"खोलें",type_message_placeholder:"अपना संदेश लिखें…",send_btn:"भेजें",feedback_heading:"प्रतिक्रिया साझा करें",feedback_optional_label:"प्रतिक्रिया (वैकल्पिक)",send_feedback:"प्रतिक्रिया भेजें",recent_feedback:"हाल की प्रतिक्रिया",loading_dashboard:"डैशबोर्ड लोड हो रहा है…",loading_analytics:"एनालिटिक्स लोड हो रहा है…",open_menu:"मेन्यू खोलें",close_menu:"मेन्यू बंद करें",faqs:"अक्सर पूछे जाने वाले प्रश्न",support_intro:"FAQ में उत्तर खोजें, लाइव चैट करें या प्रतिक्रिया साझा करें.",view_details:"विवरण देखें",close:"बंद करें",type:"प्रकार",description:"विवरण",no_description:"कोई विवरण उपलब्ध नहीं.",location:"स्थान",routed_station:"निर्देशित थाना",locating:"स्थान पता लगाया जा रहा है…",no_faqs:"कोई FAQ नहीं मिला। अलग कीवर्ड आज़माएँ."},mr:{welcome:"स्वागत आहे, {username}!",search_placeholder:"शीर्षक, आयडी, स्थितीनुसार शोधा",search_btn:"शोधा",profile_view:"प्रोफाइल पहा",profile_edit:"प्रोफाइल संपादित करा",settings:"सेटिंग्ज",logout:"लॉग आऊट",no_updates:"अपडेट नाहीत",clear_all:"सर्व साफ करा",notifications_updates:"सूचना आणि अपडेट्स",unread:"न वाचलेले",refresh:"रीफ्रेश",mark_all_read:"सर्व वाचलेले चिन्हांकित करा",notifications_loading:"सूचना लोड होत आहेत…",notifications_search_placeholder:"अपडेट शोधा",filter_all:"सर्व",filter_unread:"न वाचलेले",overview_total:"एकूण नोंदवलेल्या तक्रारी",overview_solved:"निकाली तक्रारी",overview_pending:"प्रलंबित तक्रारी",overview_review:"पुनरावलोकनाधीन",overview_quick:"त्वरित क्रिया: तक्रार नोंदवण्यासाठी किंवा ट्रॅक करण्यासाठी साइडबार वापरा.",complaints_search_placeholder:"आयडी, गुन्हा किंवा पोलीस स्टेशननुसार तक्रारी शोधा",clear:"क्लिअर",table_id:"आयडी",table_title:"शीर्षक",table_date:"तारीख",table_status:"स्थिती",table_station:"पोलीस स्टेशन",table_actions:"क्रिया",no_complaints_yet:"अजून कोणतीही तक्रार नाही.",unassigned:"न नेमलेले",download_pdf:"पीडीएफ डाउनलोड",form_title:"शीर्षक",form_type:"प्रकार",form_select:"निवडा…",crime_robbery:"दरोडा",crime_fraud:"फसवणूक",crime_harassment:"छळ",crime_accident:"अपघात",crime_theft:"चोरी",crime_murder:"हत्या",form_description:"वर्णन",form_date:"तारीख",form_time:"वेळ",form_contact:"संपर्क",form_location_address:"स्थानाचा पत्ता",form_latitude:"अक्षांश",form_longitude:"रेखांश",loc_status:"स्थिती",loc_accuracy:"अचूकता ±",loc_updated:"अद्यतनित",use_my_location:"माझे स्थान वापरा",upload_photo:"फोटो अपलोड",remove_photo:"फोटो काढा",submit_btn:"सबमिट",submitting:"सबमिट होत आहे…",sending:"पाठवित आहे…",uploading_photo:"फोटो अपलोड होत आहे…",finalizing:"अंतिम करत आहे…",no_notifications:"दाखविण्यासाठी सूचना नाहीत.",mark_read:"वाचलेले चिन्हांकित करा",sidebar_overview:"डॅशबोर्ड आढावा",sidebar_new:"नवीन तक्रार नोंदवा",sidebar_my:"माझ्या तक्रारी",sidebar_track:"तक्रार ट्रॅक करा (नकाशा)",sidebar_notifications:"सूचना / अपडेट्स",sidebar_profile:"प्रोफाइल सेटिंग्ज",sidebar_support:"मदत आणि समर्थन",sidebar_feedback:"अभिप्राय",logout_link:"लॉग आऊट",open_in_maps:"नकाशात उघडा",support_heading:"मदत आणि समर्थन",tab_chat:"लाईव्ह चॅट",tab_feedback:"अभिप्राय",chat_toggle_open:"उघडा",type_message_placeholder:"तुमचा संदेश लिहा…",send_btn:"पाठवा",feedback_heading:"अभिप्राय शेअर करा",feedback_optional_label:"अभिप्राय (पर्यायी)",send_feedback:"अभिप्राय पाठवा",recent_feedback:"अलीकडचा अभिप्राय",loading_dashboard:"डॅशबोर्ड लोड होत आहे…",loading_analytics:"एनालिटिक्स लोड होत आहे…",open_menu:"मेनू उघडा",close_menu:"मेनू बंद करा",faqs:"वारंवार विचारले जाणारे प्रश्न",support_intro:"FAQ मध्ये उत्तर शोधा, लाईव्ह चॅट करा किंवा अभिप्राय शेअर करा.",view_details:"तपशील पहा",close:"बंद करा",type:"प्रकार",description:"वर्णन",no_description:"वर्णन उपलब्ध नाही.",location:"स्थान",routed_station:"मार्गित स्टेशन",locating:"स्थान शोधत आहे…",no_faqs:"FAQ सापडले नाहीत. वेगळे कीवर्ड वापरून पहा."}},Le=n.createContext(null);function ct({children:s}){const[t,a]=n.useState(()=>localStorage.getItem("lang")||"en");n.useEffect(()=>{try{localStorage.setItem("lang",t)}catch{}},[t]);const i=n.useMemo(()=>(w,k)=>{let x=(me[t]||me.en)[w]||me.en[w]||w;if(k)for(const[d,N]of Object.entries(k))x=x.replace(new RegExp(`\\{${d}\\}`,"g"),String(N));return x},[t]),u={lang:t,setLanguage:w=>a(w),t:i};return e.jsx(Le.Provider,{value:u,children:s})}function P(){const s=n.useContext(Le);if(!s)throw new Error("useI18n must be used within I18nProvider");return s}function dt({token:s,username:t,onSearch:a,onLogout:i}){const[u,w]=n.useState(""),[k,m]=n.useState(!1),[x,d]=n.useState(!1),[N,b]=n.useState([]),[S,U]=n.useState(()=>localStorage.getItem("theme")||"dark"),[D,L]=n.useState(null),{lang:M,setLanguage:c,t:g}=P();n.useEffect(()=>{let h=!0;te.list(s).then(l=>{h&&b(l.notifications)}).catch(()=>{});const H=setInterval(()=>{te.list(s).then(l=>b(l.notifications)).catch(()=>{})},1e4),W=ge("user",s);return W.on("user:notification",l=>{L({message:l.message,type:"info"}),b(_=>[{_id:String(Date.now()),message:l.message,type:l.type||"info",read:!1,createdAt:l.createdAt||new Date().toISOString(),complaintId:l.complaintId||void 0},..._])}),()=>{h=!1,clearInterval(H),W.disconnect()}},[s]),n.useEffect(()=>{function h(H){const W=H,l=W.detail?.message||"",_=W.detail?.type||"success";l&&L({message:l,type:_})}return window.addEventListener("spcs:user-toast",h),()=>window.removeEventListener("spcs:user-toast",h)},[]),n.useEffect(()=>{S==="light"?document.body.classList.add("light-theme"):document.body.classList.remove("light-theme"),localStorage.setItem("theme",S)},[S]),n.useEffect(()=>{try{localStorage.setItem("lang",M)}catch{}},[M]);const G=N.filter(h=>!h.read).length;return e.jsxs("header",{className:"dash-navbar",children:[e.jsx("div",{className:"dash-left",children:e.jsxs("div",{className:"logo","aria-label":"Smart Police Complaint System (SPCS)",children:[e.jsx(st,{height:24,className:"logo-icon",title:"SPCS logo"}),e.jsx("span",{className:"logo-text",children:"SPCS"})]})}),e.jsx("div",{className:"dash-center",children:e.jsxs("div",{className:"search",children:[e.jsx(le,{}),e.jsx("input",{value:u,onChange:h=>w(h.target.value),placeholder:g("search_placeholder")}),e.jsx("button",{className:"btn sm",onClick:()=>a(u),children:g("search_btn")})]})}),e.jsxs("div",{className:"dash-right",children:[e.jsx("div",{className:"welcome",children:g("welcome",{username:t})}),e.jsx("div",{className:"user-label","aria-label":"Username",children:t}),e.jsx("button",{className:"btn toggle",onClick:()=>U(h=>h==="dark"?"light":"dark"),children:S==="dark"?e.jsx(Oe,{}):e.jsx(Be,{})}),e.jsxs("select",{value:M,onChange:h=>c(h.target.value),className:"btn toggle",style:{background:"transparent",color:"var(--text)",borderColor:"#24324a"},children:[e.jsx("option",{value:"en",children:"EN"}),e.jsx("option",{value:"hi",children:"HI"}),e.jsx("option",{value:"mr",children:"MR"})]}),e.jsx("div",{className:"avatar",onClick:()=>m(h=>!h),children:e.jsx(Ce,{})}),e.jsxs("div",{className:"bell",onClick:()=>d(h=>!h),children:[e.jsx(pe,{}),G>0&&e.jsx("span",{className:"badge",children:G})]}),k&&e.jsxs("div",{className:"dropdown",children:[e.jsx("button",{onClick:()=>m(!1),children:g("profile_view")}),e.jsx("button",{onClick:()=>m(!1),children:g("profile_edit")}),e.jsx("button",{onClick:()=>m(!1),children:g("settings")}),e.jsx("button",{onClick:i,children:g("logout")})]}),x&&e.jsxs("div",{className:"dropdown wide",children:[N.length===0?e.jsx("div",{className:"muted",children:g("no_updates")}):N.map(h=>e.jsxs("div",{className:`notif ${h.read?"":"unread"}`,children:[e.jsx("div",{children:h.message}),e.jsx("small",{children:new Date(h.createdAt||"").toLocaleString()})]},h._id)),e.jsx("div",{className:"actions",children:e.jsx("button",{className:"btn ghost",onClick:async()=>{const h=await te.markAllRead(s);b(h.notifications)},children:g("clear_all")})})]}),D&&e.jsx(nt,{message:D.message,type:D.type,onClose:()=>L(null)})]})]})}const ut=[{key:"overview",labelKey:"sidebar_overview",icon:ze},{key:"new",labelKey:"sidebar_new",icon:He},{key:"my",labelKey:"sidebar_my",icon:Ge},{key:"track",labelKey:"sidebar_track",icon:Ke},{key:"notifications",labelKey:"sidebar_notifications",icon:pe},{key:"profile",labelKey:"sidebar_profile",icon:Ce},{key:"support",labelKey:"sidebar_support",icon:$e},{key:"feedback",labelKey:"sidebar_feedback",icon:fe}];function mt({active:s,onChange:t}){const{t:a}=P();return e.jsx("aside",{className:"dash-sidebar",children:e.jsxs("nav",{children:[ut.map(i=>{const u=i.icon;return e.jsxs("button",{className:`side-item ${s===i.key?"active":""}`,onClick:()=>t(i.key),children:[e.jsx(u,{}),e.jsx("span",{children:a(i.labelKey)})]},i.key)}),e.jsx("div",{className:"spacer"}),e.jsxs("a",{className:"side-item",href:"/",title:"Logout redirects to home",children:[e.jsx(Ve,{}),e.jsx("span",{children:a("logout_link")})]})]})})}const Z={async create(s,t){return ee("/complaints",{method:"POST",headers:{Authorization:`Bearer ${t}`},body:JSON.stringify(s)})},async listMine(s,t){const a=new URLSearchParams;t?.page&&a.set("page",String(t.page)),t?.limit&&a.set("limit",String(t.limit)),t?.fields&&a.set("fields",t.fields);const i=a.toString()?`?${a.toString()}`:"";return ee(`/complaints${i}`,{method:"GET",headers:{Authorization:`Bearer ${s}`}})},async getById(s,t){return ee(`/complaints/${t}`,{method:"GET",headers:{Authorization:`Bearer ${s}`}})},async update(s,t,a){return ee(`/complaints/${t}`,{method:"PUT",headers:{Authorization:`Bearer ${s}`},body:JSON.stringify(a)})},async stats(s){return ee("/complaints/stats",{method:"GET",headers:{Authorization:`Bearer ${s}`}})}},ht=n.lazy(()=>ke(()=>import("./Analytics-DD8BBKB1.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15])));function pt(){const s=rt(),[t,a]=n.useState("overview"),[i,u]=n.useState([]),[w,k]=n.useState({Pending:0,"In Progress":0,Solved:0,"Under Review":0}),[m,x]=n.useState(null),[d,N]=n.useState(!0),[b,S]=n.useState(null),[U,D]=n.useState(0),L=Ie({volume:.85,cooldownMs:0}),M=n.useRef(!0),c=n.useRef({});n.useEffect(()=>{const f=()=>{L.setEnabled(!0),L.prime()},j=()=>{L.setEnabled(!1)};return window.addEventListener("spcs:enable-sound",f),window.addEventListener("spcs:disable-sound",j),()=>{window.removeEventListener("spcs:enable-sound",f),window.removeEventListener("spcs:disable-sound",j)}},[L]),n.useEffect(()=>{try{L.setEnabled(!0),L.prime()}catch{}},[L]);const g=localStorage.getItem("token")||"",G=(()=>{try{return JSON.parse(localStorage.getItem("user")||"null")}catch{return null}})();n.useEffect(()=>{if(!G||!g){s("/login");return}(async()=>{const f=await Promise.allSettled([at.profile(g),Z.listMine(g,{fields:"summary",limit:50}),Z.stats(g)]),j=f[0],T=f[1],F=f[2];j.status==="fulfilled"&&x(j.value.user),T.status==="fulfilled"&&(u(T.value.complaints),c.current=Object.fromEntries(T.value.complaints.map(E=>[String(E._id||""),String(E.status||"")]))),F.status==="fulfilled"&&k(F.value.stats),f.some(E=>E.status==="fulfilled")||S("Network timeout. Please try again."),N(!1)})()},[g]),n.useEffect(()=>{if(!g)return;const f=ge("user",g);f.on("user:notification",j=>{if(String(j.type||"")==="status_updated"){const T=String(j.complaintId||""),F=j.status||"Pending";u(E=>E.map(q=>String(q._id||"")===T?{...q,status:F,updatedAt:j.createdAt||q.updatedAt}:q));const O=c.current[T];c.current[T]=F,O&&O!==F&&L.play(),Z.stats(g).then(E=>k(E.stats)).catch(()=>{})}}),f.on("user:complaint_status",j=>{const T=String(j.id||""),F=j.status||"Pending";u(E=>E.map(q=>String(q._id||"")===T?{...q,status:F,updatedAt:j.updatedAt||q.updatedAt}:q));const O=c.current[T];c.current[T]=F,O&&O!==F&&L.play(),Z.stats(g).then(E=>k(E.stats)).catch(()=>{})});try{f.connect()}catch{}return()=>{try{f.disconnect()}catch{}}},[g,L]),n.useEffect(()=>{const f=setInterval(async()=>{try{const j=await Z.listMine(g,{fields:"summary",limit:50}),T=Object.fromEntries(j.complaints.map(O=>[String(O._id||""),String(O.status||"")]));let F=!1;for(const[O,E]of Object.entries(T))if(c.current[O]&&c.current[O]!==E){F=!0;break}u(j.complaints),c.current=T,!M.current&&F&&L.play(),M.current&&(M.current=!1)}catch{}},3e4);return()=>clearInterval(f)},[g,L]);const h=m?.username||G?.username||"User";function H(){localStorage.removeItem("token"),localStorage.removeItem("user"),s("/login")}function W(f){const j=f.trim().toLowerCase(),T=i.filter(F=>F.title.toLowerCase().includes(j)||(F._id||"").toLowerCase().includes(j)||(F.status||"").toLowerCase().includes(j));a("my"),u(T)}async function l(f){const{photoUrl:j,...T}=f;let F;try{F=await Z.create(T,g)}catch{await new Promise(J=>setTimeout(J,600)),F=await Z.create(T,g)}u(q=>[F.complaint,...q]);const O=Z.stats(g);if(j)try{await Z.update(g,String(F.complaint._id),{photoUrl:j})}catch{}const E=await O.catch(()=>null);E?.stats&&k(E.stats),D(q=>q+1),a("my");try{const q=F.complaint?.station||"nearest station",J=typeof F.complaint?.nearestDistanceKm=="number"?`${F.complaint.nearestDistanceKm.toFixed(1)} km`:"",re=J?`Your complaint submitted to ${q} (${J})`:`Your complaint submitted to ${q}`;window.dispatchEvent(new CustomEvent("spcs:user-toast",{detail:{message:re,type:"success"}}))}catch{}}let _;if(d)_=e.jsx(ft,{});else if(b)_=e.jsx("div",{className:"panel error",children:b});else switch(t){case"overview":_=e.jsxs(e.Fragment,{children:[e.jsx(Ne,{stats:w,complaints:i}),e.jsx(gt,{token:g,refreshSignal:U})]});break;case"new":_=e.jsx(_t,{onSubmit:l});break;case"my":_=e.jsx(bt,{items:i});break;case"track":_=e.jsx(yt,{items:i});break;case"notifications":_=e.jsx(Nt,{token:g});break;case"support":_=e.jsx(Se,{token:g,profile:m});break;case"feedback":_=e.jsx(Se,{token:g,profile:m,defaultTab:"feedback"});break;case"profile":_=e.jsx(it,{});break;default:_=e.jsx(Ne,{stats:w,complaints:i})}const[R,V]=n.useState(!1);return e.jsx(ct,{children:e.jsxs("div",{className:`dashboard ${R?"sidebar-open":""}`,children:[e.jsx(dt,{token:g,username:h,onSearch:W,onLogout:H,onToggleSidebar:()=>V(f=>!f),sidebarOpen:R}),e.jsx(xt,{sidebarOpen:R,onClick:()=>V(f=>!f)}),e.jsxs("div",{className:"dash-body",children:[e.jsx(mt,{active:t,onChange:f=>{a(f),V(!1)}}),R&&e.jsx("div",{className:"sidebar-overlay",onClick:()=>V(!1),"aria-label":"Close sidebar"}),e.jsx("main",{className:"dash-main",children:_})]})]})})}function ft(){const{t:s}=P();return e.jsx("div",{className:"panel",children:e.jsx("div",{className:"muted",children:s("loading_dashboard")})})}function gt({token:s,refreshSignal:t}){const{t:a}=P();return e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"muted",children:a("loading_analytics")}),children:e.jsx(ht,{token:s,refreshSignal:t})})}function xt({sidebarOpen:s,onClick:t}){const{t:a}=P();return e.jsx("button",{className:"mobile-hamburger","aria-label":a(s?"close_menu":"open_menu"),onClick:t,children:s?e.jsx(ae,{size:22}):e.jsx(Qe,{size:22})})}function oe({label:s,value:t}){return e.jsxs("div",{className:"card stat",children:[e.jsx("div",{className:"label",children:s}),e.jsx("div",{className:"value",children:t})]})}function Ne({stats:s,complaints:t}){const{t:a}=P();return e.jsxs("div",{children:[e.jsxs("div",{className:"grid stats",children:[e.jsx(oe,{label:a("overview_total"),value:t.length}),e.jsx(oe,{label:a("overview_solved"),value:s.Solved||0}),e.jsx(oe,{label:a("overview_pending"),value:s.Pending||0}),e.jsx(oe,{label:a("overview_review"),value:s["Under Review"]||0})]}),e.jsx("div",{className:"panel",children:e.jsx("div",{className:"muted",children:a("overview_quick")})})]})}function bt({items:s}){const{t}=P(),[a,i]=n.useState(""),[u,w]=n.useState(""),[k,m]=n.useState("newest"),x=s.filter(d=>!a||d.status===a).filter(d=>!u||(d.title||"").toLowerCase().includes(u.toLowerCase())||(d.description||"").toLowerCase().includes(u.toLowerCase())||(d._id||"").includes(u)).sort((d,N)=>{const b=new Date(d.createdAt||0).getTime(),S=new Date(N.createdAt||0).getTime();return k==="newest"?S-b:b-S});return s.length===0?e.jsx("div",{className:"panel",children:e.jsx("div",{className:"muted",children:t("no_complaints_yet")})}):e.jsx(e.Fragment,{children:e.jsxs("div",{children:[e.jsx("div",{className:"panel",style:{marginBottom:10},children:e.jsxs("div",{className:"table-toolbar",style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:12,justifyContent:"space-between"},children:[e.jsxs("div",{className:"search modern",children:[e.jsx(le,{}),e.jsx("input",{value:u,onChange:d=>w(d.target.value),placeholder:t("complaints_search_placeholder")}),u&&e.jsx("button",{className:"clear-btn",onClick:()=>w(""),children:t("clear")})]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",alignItems:"center",gap:8},children:[e.jsxs("div",{className:"filters",children:[e.jsx("span",{className:`pill ${a===""?"active":""}`,onClick:()=>i(""),children:"All"}),e.jsx("span",{className:`pill ${a==="Pending"?"active":""}`,onClick:()=>i("Pending"),children:"Pending"}),e.jsx("span",{className:`pill ${a==="Under Review"?"active":""}`,onClick:()=>i("Under Review"),children:"Under Review"}),e.jsx("span",{className:`pill ${a==="In Progress"?"active":""}`,onClick:()=>i("In Progress"),children:"In Progress"}),e.jsx("span",{className:`pill ${a==="Solved"?"active":""}`,onClick:()=>i("Solved"),children:"Solved"})]}),e.jsxs("div",{className:"sort",children:[e.jsx(Fe,{}),e.jsxs("select",{value:k,onChange:d=>m(d.target.value),className:"sort-select",children:[e.jsx("option",{value:"newest",children:"Newest first"}),e.jsx("option",{value:"oldest",children:"Oldest first"})]})]})]})]})}),e.jsxs("div",{className:"table",children:[e.jsxs("div",{className:"thead",children:[e.jsx("div",{children:t("table_id")}),e.jsx("div",{children:t("table_title")}),e.jsx("div",{children:t("table_date")}),e.jsx("div",{children:t("table_status")}),e.jsx("div",{children:t("table_station")}),e.jsx("div",{children:t("table_actions")})]}),x.map(d=>{const N=typeof d.nearestDistanceKm=="number"?`${d.nearestDistanceKm.toFixed(1)} km`:"",b=new Date(d.createdAt||"").toLocaleDateString(),S=d.station?`${d.station}${N?` (${N})`:""}`:"-";return e.jsxs("div",{className:"trow",children:[e.jsx("div",{title:d._id,children:d._id?.slice(-6)}),e.jsxs("div",{className:"title-cell",title:d.title,children:[d.photoUrl?e.jsx("img",{className:"thumb",src:d.photoUrl,alt:"complaint photo"}):e.jsx("span",{className:"thumb placeholder","aria-hidden":!0}),e.jsx("span",{className:"title-text",style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:d.title})]}),e.jsx("div",{children:b}),e.jsx("div",{children:e.jsx(he,{status:d.status||"Pending"})}),e.jsx("div",{title:S,children:S||t("unassigned")}),e.jsxs("div",{style:{display:"flex",gap:8,justifyContent:"flex-end"},children:[e.jsx(we,{complaint:d}),e.jsx(jt,{complaint:d})]})]},d._id)})]}),e.jsx("div",{className:"complaints-cards",children:x.map(d=>e.jsxs("div",{className:"card complaint-card horizontal",children:[e.jsxs("div",{className:"row-main",children:[d.photoUrl?e.jsx("img",{className:"thumb",src:d.photoUrl,alt:"complaint photo"}):e.jsx("span",{className:"thumb placeholder","aria-hidden":!0}),e.jsxs("span",{className:"id",title:d._id,children:["#",d._id?.slice(-6)]}),e.jsx("span",{className:"crime",title:d.type,children:d.type}),e.jsx("span",{className:"station",title:d.station||t("unassigned"),children:d.station||t("unassigned")})]}),e.jsxs("div",{className:"row-actions",children:[e.jsx(we,{complaint:d}),e.jsx(he,{status:d.status||"Pending"})]})]},d._id))})]})})}function he({status:s}){return e.jsx("span",{className:`badge ${s.replace(/\s/g,"-").toLowerCase()}`,children:s})}function we({complaint:s}){const{t}=P(),[a,i]=n.useState(!1);function u(w){const k=(w||"").split(/\r?\n/).filter(b=>b.trim().length>0),m=/(https?:\/\/[^\s]+)/g,x=b=>b.split(m).map((S,U)=>/^https?:\/\//.test(S)?e.jsx("a",{href:S,target:"_blank",rel:"noopener noreferrer",children:S},U):e.jsx("span",{children:S},U)),d=[];let N=[];for(const b of k)/^[-*•]\s+/.test(b.trim())?N.push(b.trim().replace(/^[-*•]\s+/,"")):(N.length&&(d.push(e.jsx("ul",{className:"desc-list",children:N.map((S,U)=>e.jsx("li",{children:x(S)},`li-${U}`))})),N=[]),d.push(e.jsx("p",{className:"desc-paragraph",children:x(b)})));return N.length&&d.push(e.jsx("ul",{className:"desc-list",children:N.map((b,S)=>e.jsx("li",{children:x(b)},`li-${S}`))})),d}return e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"btn sm",onClick:()=>i(!0),children:t("view_details")}),a&&e.jsx("div",{className:"modal",children:e.jsxs("div",{className:"modal-body",children:[e.jsx("button",{className:"icon-btn close","aria-label":t("close"),onClick:()=>i(!1),children:e.jsx(ae,{})}),e.jsx("h3",{children:s.title}),e.jsxs("p",{children:[e.jsxs("b",{children:[t("type"),":"]})," ",s.type]}),e.jsxs("div",{className:"modal-desc",children:[e.jsx("div",{className:"modal-desc-title",children:t("description")}),s.description?.trim()?u(s.description):e.jsx("div",{className:"muted",children:t("no_description")})]}),e.jsx(vt,{status:s.status||"Pending"}),s.photoUrl&&e.jsx("img",{src:s.photoUrl,alt:"evidence",style:{maxWidth:"100%",borderRadius:8}}),s.location?.address&&e.jsxs("p",{children:[e.jsxs("b",{children:[t("location"),":"]})," ",s.location.address]}),e.jsxs("p",{children:[e.jsxs("b",{children:[t("routed_station"),":"]})," ",s.station||t("unassigned"),typeof s.nearestDistanceKm=="number"?` (${s.nearestDistanceKm.toFixed(1)} km)`:""]}),e.jsx("div",{className:"actions",children:e.jsx("button",{className:"btn",onClick:()=>i(!1),children:t("close")})})]})})]})}function vt({status:s}){const t=["Pending","Under Review","In Progress","Solved"],a=t.indexOf(s);return e.jsx("div",{style:{display:"flex",alignItems:"center",gap:10,margin:"10px 0"},children:t.map((i,u)=>e.jsx("span",{className:`badge ${i.replace(/\s/g,"-").toLowerCase()}`,style:{opacity:u<=a?1:.5},children:i},i))})}function jt({complaint:s}){const{t}=P();function a(){ke(async()=>{const{default:i}=await import("./pdf-DU8byqIM.js").then(u=>u.j);return{default:i}},[]).then(({default:i})=>{const u=new i;u.text("Smart Police Complaint System",14,16),u.text(`Complaint ID: ${s._id||"-"}`,14,26),u.text(`Title: ${s.title}`,14,36),u.text(`Type: ${s.type}`,14,46),u.text(`Status: ${s.status||"Pending"}`,14,56),u.text(`Station: ${s.station||"Unassigned"}`,14,66),typeof s.nearestDistanceKm=="number"&&u.text(`Nearest distance: ${s.nearestDistanceKm.toFixed(1)} km`,14,76),u.text("Description:",14,86),u.text(s.description||"",14,96),u.save(`complaint_${s._id||"report"}.pdf`)})}return e.jsx("button",{className:"btn sm",onClick:a,children:t("download_pdf")})}function _t({onSubmit:s}){const{t}=P(),[a,i]=n.useState(()=>{const r=localStorage.getItem("complaintDraft");if(r)try{const o=JSON.parse(r);return{...o,location:{...o.location||{},lat:void 0,lng:void 0}}}catch{return{title:"",type:"",description:"",contact:"",location:{address:""}}}return{title:"",type:"",description:"",contact:"",location:{address:""}}}),[,u]=n.useState(""),[w,k]=n.useState(!1),[m,x]=n.useState("idle"),[d,N]=n.useState(""),[b,S]=n.useState({}),[U,D]=n.useState(""),[L,M]=n.useState(!1),c=n.useRef(null),g=n.useRef(""),G=n.useMemo(()=>{try{return!!(window.SpeechRecognition||window.webkitSpeechRecognition)}catch{return!1}},[]),h=n.useRef(null);n.useEffect(()=>{try{h.current&&clearTimeout(h.current),h.current=window.setTimeout(()=>{try{localStorage.setItem("complaintDraft",JSON.stringify(a))}catch{}},300)}catch{}return()=>{h.current&&(clearTimeout(h.current),h.current=null)}},[a]);const H=n.useRef(null);n.useEffect(()=>{function r(o){if(o.key==="complaintDraft"&&typeof o.newValue=="string")try{const y=JSON.parse(o.newValue);i(p=>({...p,...y}))}catch{}}return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]);async function W(r){const o=r.target.files?.[0];if(!o)return;const y=4*1024*1024;if(o.size>y){D("Image too large. Please select a file under 4MB."),r.target.value="";return}u(o.name);try{const p=new Image,v=new FileReader;v.onload=()=>{p.onload=()=>{const C=document.createElement("canvas"),Q=Math.min(1,1280/p.width);C.width=Math.round(p.width*Q),C.height=Math.round(p.height*Q);const A=C.getContext("2d");if(!A){D("Canvas unavailable");return}A.drawImage(p,0,0,C.width,C.height);let z=.75,I=C.toDataURL("image/jpeg",z);const B=K=>{const se=K.split(",")[1]||"";return Math.ceil(se.length*3/4)};for(;B(I)>y&&z>.4;)z-=.15,I=C.toDataURL("image/jpeg",z);if(B(I)>y){D("Compressed image still too large. Try a smaller file.");return}i(K=>({...K,photoUrl:I}))},p.src=String(v.result)},v.readAsDataURL(o)}catch(p){D(p?.message||"Failed to process image")}}function l(){if(D(""),L){try{c.current?.stop()}catch{}M(!1)}else{if(!G){D("Voice input not supported on this device/browser");return}try{const r=window.SpeechRecognition||window.webkitSpeechRecognition,o=new r;c.current=o,o.lang=navigator.language||"en-IN",o.continuous=!0,o.interimResults=!1,o.onresult=y=>{const p=y.results.length-1,v=y.results[p];if(!v)return;const C=String(v[0]?.transcript||"").trim().replace(/\s+/g," ");v.isFinal&&C&&C!==g.current&&(g.current=C,i($=>({...$,description:$.description?`${$.description} ${C}`:C})))},o.onend=()=>{M(!1)},o.onerror=()=>{M(!1)},o.start(),M(!0)}catch(r){D(r?.message||"Failed to start voice input")}}}const[_,R]=n.useState(!1),[V,f]=n.useState("idle"),[j,T]=n.useState(null),[F,O]=n.useState(null),[E,q]=n.useState(null),J=n.useRef([]),re=(()=>{try{return JSON.parse(localStorage.getItem("lastGoodLoc")||"null")}catch{return null}})(),ce=n.useRef(re),ie=n.useRef(null),xe=n.useRef(null),[Re,Pe]=n.useState(!1),be=n.useRef(""),de=(r,o,y,p)=>{const v=I=>I*Math.PI/180,$=v(y-r),Q=v(p-o),A=Math.sin($/2)**2+Math.cos(v(r))*Math.cos(v(y))*Math.sin(Q/2)**2;return 6371e3*(2*Math.atan2(Math.sqrt(A),Math.sqrt(1-A)))};function ve(r){const o=r?.address||{},y=r?.name||o.public_building||o.building||o.amenity||o.shop||"",p=o.house_number||o.block||"",v=o.road||o.residential||o.pedestrian||o.footway||o.cycleway||o.path||"",C=o.neighbourhood||o.suburb||o.quarter||o.hamlet||o.estate||"",$=o.city||o.town||o.village||o.city_district||o.county||"",Q=o.state||"",A=o.postcode||"",z=[p,v].filter(Boolean).join(" "),I=[y,z,C].filter(Boolean).join(", "),B=[$].filter(Boolean).join(""),K=[Q,A].filter(Boolean).join(" ");return[[I,B].filter(Boolean).join(", "),K].filter(Boolean).join(", ")||r?.display_name||""}async function Te(r,o){let y="";try{const A=new AbortController,z=setTimeout(()=>A.abort(),12e3),I=`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${r}&lon=${o}&zoom=18&addressdetails=1&namedetails=1&extratags=1`,B=await fetch(I,{headers:{"Accept-Language":navigator.language||"en-IN"},signal:A.signal});if(clearTimeout(z),B.ok){const K=await B.json();y=ve(K)}}catch{}if(!y)try{const A=new AbortController,z=setTimeout(()=>A.abort(),12e3),I=`https://geocode.maps.co/reverse?lat=${r}&lon=${o}`,B=await fetch(I,{headers:{"Accept-Language":navigator.language||"en-IN"},signal:A.signal});if(clearTimeout(z),B.ok){const K=await B.json();y=ve(K)}}catch{}const p=await Ue(r,o),v=`${r.toFixed(6)}, ${o.toFixed(6)}`,C=y||v,$=p?`${C} • Nearby: ${p}`:C,Q=!(a.location?.address||"").trim();$&&$!==be.current&&(be.current=$,(!Re||Q)&&i(A=>({...A,location:{...A.location||{},address:$}})))}function je(r,o){const y=xe.current;y&&de(y.lat,y.lng,r,o)<10||(xe.current={lat:r,lng:o},ie.current&&(clearTimeout(ie.current),ie.current=null),ie.current=window.setTimeout(()=>{Te(r,o)},250))}async function Ue(r,o){let y=[];try{const I=new AbortController,B=setTimeout(()=>I.abort(),12e3),K=`[out:json][timeout:10];(node(around:450,${r},${o})["shop"];node(around:450,${r},${o})["amenity"="college"];node(around:450,${r},${o})["amenity"="university"];node(around:450,${r},${o})["amenity"="place_of_worship"];);out body;`,se=`https://overpass-api.de/api/interpreter?data=${encodeURIComponent(K)}`,Y=await fetch(se,{signal:I.signal});if(clearTimeout(B),Y.ok){const ue=await Y.json();y=Array.isArray(ue?.elements)?ue.elements:[]}}catch{}if(!y.length)return"";let p=null,v=1/0,C=null,$=1/0,Q=null,A=1/0;for(const I of y){const B=I?.tags?.name||"",K=typeof I.lat=="number"?I.lat:I?.center?.lat||null,se=typeof I.lon=="number"?I.lon:I?.center?.lon||null;if(B&&typeof K=="number"&&typeof se=="number"){const Y=de(r,o,K,se);I?.tags?.shop&&Y<v&&(p={name:B},v=Y),(I?.tags?.amenity==="college"||I?.tags?.amenity==="university")&&Y<$&&(C={name:B},$=Y),I?.tags?.amenity==="place_of_worship"&&((I?.tags?.religion||"").toLowerCase()==="hindu"||B.toLowerCase().includes("temple"))&&Y<A&&(Q={name:B},A=Y)}}const z=[];return p&&z.push(`${p.name} (${Math.max(1,Math.round(v))}m)`),C&&z.push(`${C.name} (${Math.max(1,Math.round($))}m)`),Q&&z.push(`${Q.name} (${Math.max(1,Math.round(A))}m)`),z.join(", ")}const De=()=>{const r=J.current.slice(-5);if(r.length===0)return null;let o=0,y=0,p=0;for(const v of r){const C=1/Math.max(v.accuracy,1);y+=v.lat*C,p+=v.lng*C,o+=C}return{lat:y/o,lng:p/o}},ne=r=>{const{latitude:o,longitude:y,accuracy:p}=r.coords,v=r.timestamp||Date.now();if(J.current.length>0){const A=J.current[J.current.length-1];if(de(A.lat,A.lng,o,y)>300&&(p||9999)>50){T(p||null),O(v);return}}J.current.push({lat:o,lng:y,accuracy:p,timestamp:v}),J.current.length>20&&J.current.shift();const $=De()||{lat:o,lng:y};if(i(A=>({...A,location:{...A.location||{},lat:$.lat,lng:$.lng}})),T(p||null),O(v),je($.lat,$.lng),Date.now()-v>6e4?f("outdated"):p&&p<=10?f("accurate"):f("inaccurate"),q({lat:$.lat,lng:$.lng}),(p||9999)<=25){const A={lat:$.lat,lng:$.lng,timestamp:v};ce.current=A;try{localStorage.setItem("lastGoodLoc",JSON.stringify(A))}catch{}}},Ee=()=>{R(!0),f("searching");const r={enableHighAccuracy:!0,timeout:2e4,maximumAge:0};let o=null;const y=navigator.geolocation.watchPosition(p=>{ne(p),(!o||p.coords.accuracy<o.coords.accuracy)&&(o=p),p.coords.accuracy<=10&&(navigator.geolocation.clearWatch(y),R(!1),f("accurate"))},p=>{console.error("Geolocation error:",p),navigator.geolocation.clearWatch(y),R(!1),p.code===1?(f("denied"),alert("Location permission denied. Please allow access to capture coordinates.")):p.code===2?(f("unavailable"),alert("GPS signal unavailable. Trying network-based location."),navigator.geolocation.getCurrentPosition(v=>{ne(v)},v=>{console.error("Network fallback failed:",v),f("unavailable")},{enableHighAccuracy:!1,timeout:15e3,maximumAge:6e5})):p.code===3?(f("timeout"),alert("GPS timeout. Trying network-based location."),navigator.geolocation.getCurrentPosition(v=>{ne(v)},v=>{console.error("Network fallback failed:",v),f("unavailable")},{enableHighAccuracy:!1,timeout:15e3,maximumAge:6e5})):(f("unavailable"),alert("Error getting location. Please ensure location services are enabled and permissions are granted."))},r);setTimeout(()=>{if(navigator.geolocation.clearWatch(y),o)ne(o),R(!1),f((o.coords.accuracy||9999)<=10?"accurate":"inaccurate");else if(ce.current){const{lat:p,lng:v,timestamp:C}=ce.current;i($=>({...$,location:{...$.location||{},lat:p,lng:v}})),O(C),T(null),R(!1),f("inaccurate"),je(p,v)}else f("timeout"),navigator.geolocation.getCurrentPosition(p=>{ne(p),R(!1)},p=>{console.error("Network fallback failed:",p),R(!1),f("unavailable")},{enableHighAccuracy:!1,timeout:15e3,maximumAge:6e5})},2e4)};function Me(){const r={};return(!a.title||a.title.trim().length<3)&&(r.title="Title must be at least 3 characters"),a.type||(r.type="Type is required"),(!a.description||a.description.trim().length<10)&&(r.description="Description must be at least 10 characters"),S(r),Object.keys(r).length===0}async function qe(){if(D(""),N(""),!!Me()){k(!0),x("submit");try{const{photoUrl:r,...o}=a;await s({...o,photoUrl:r}),x(r?"upload":"finalize"),N("Complaint submitted successfully"),localStorage.removeItem("complaintDraft"),i({title:"",type:"",description:"",contact:"",photoUrl:"",location:{address:""}}),u(""),S({}),x("finalize")}catch(r){D(r?.message||"Failed to submit complaint. Please try again.")}finally{k(!1),x("idle")}}}return e.jsxs("form",{className:"panel form",onSubmit:r=>{r.preventDefault(),qe()},children:[U&&e.jsx("div",{className:"form-error",children:U}),e.jsxs("div",{className:"grid two",children:[e.jsxs("label",{children:[t("form_title"),e.jsx("input",{value:a.title,onChange:r=>i({...a,title:r.target.value})}),b.title&&e.jsx("small",{className:"muted",style:{color:"#fecaca"},children:b.title})]}),e.jsxs("label",{children:[t("form_type"),e.jsxs("select",{value:a.type,onChange:r=>i({...a,type:r.target.value}),children:[e.jsx("option",{value:"",children:t("form_select")}),e.jsx("option",{value:"Robbery",children:t("crime_robbery")}),e.jsx("option",{value:"Fraud",children:t("crime_fraud")}),e.jsx("option",{value:"Harassment",children:t("crime_harassment")}),e.jsx("option",{value:"Accident",children:t("crime_accident")}),e.jsx("option",{value:"Theft",children:t("crime_theft")}),e.jsx("option",{value:"murder",children:t("crime_murder")})]}),b.type&&e.jsx("small",{className:"muted",style:{color:"#fecaca"},children:b.type})]})]}),e.jsxs("label",{children:[t("form_description"),e.jsxs("div",{className:"textarea-wrap",children:[e.jsx("textarea",{value:a.description,onChange:r=>i({...a,description:r.target.value}),rows:4}),e.jsx("button",{type:"button",className:`mic-overlay ${L?"active":""}`,onClick:l,"aria-label":L?"Stop recording":"Start recording",children:e.jsx(Je,{})})]}),b.description&&e.jsx("small",{className:"muted",style:{color:"#fecaca"},children:b.description})]}),e.jsxs("div",{className:"grid two",children:[e.jsxs("label",{children:[t("form_date"),e.jsx("input",{type:"date",value:a.date||"",onChange:r=>i({...a,...a,date:r.target.value})})]}),e.jsxs("label",{children:[t("form_time"),e.jsx("input",{type:"time",value:a.time||"",onChange:r=>i({...a,...a,time:r.target.value})})]})]}),e.jsx("div",{className:"grid two",children:e.jsxs("label",{children:[t("form_contact"),e.jsx("input",{value:a.contact||"",onChange:r=>i({...a,contact:r.target.value})})]})}),e.jsxs("label",{children:[t("form_location_address"),e.jsx("input",{value:a.location?.address||"",onChange:r=>{Pe(!0),i({...a,location:{...a.location||{},address:r.target.value}})}})]}),e.jsxs("div",{className:"grid two",children:[e.jsxs("label",{children:[t("form_latitude"),e.jsx("input",{value:typeof a.location?.lat=="number"?Number(a.location?.lat).toFixed(6):"null",readOnly:!0})]}),e.jsxs("label",{children:[t("form_longitude"),e.jsx("input",{value:typeof a.location?.lng=="number"?Number(a.location?.lng).toFixed(6):"null",readOnly:!0})]})]}),e.jsxs("div",{className:"grid two",style:{alignItems:"start",marginTop:8},children:[e.jsx("div",{children:e.jsxs("div",{className:"muted",style:{marginBottom:6},children:[t("loc_status"),": ",V,j!=null&&e.jsxs("span",{children:[" · ",t("loc_accuracy")," ",Math.round(j),"m"]}),F!=null&&e.jsxs("span",{children:[" · ",t("loc_updated")," ",new Date(F).toLocaleTimeString()]})]})}),E&&e.jsx("div",{children:e.jsx("iframe",{title:"your-location",src:`https://maps.google.com/maps?q=${E.lat},${E.lng}&z=16&output=embed`,style:{width:"100%",height:180,border:0,borderRadius:10}})})]}),e.jsx("div",{className:"actions",style:{marginTop:8},children:e.jsx("button",{type:"button",className:"btn sm",onClick:Ee,disabled:_,children:_?P().t("locating"):t("use_my_location")})}),e.jsxs("div",{className:"file-row",children:[e.jsxs("label",{className:"file",children:[e.jsx("span",{className:"file-label",children:t("upload_photo")}),e.jsx("button",{type:"button",className:"file-cta",onClick:()=>H.current?.click(),children:"Choose image"}),e.jsx("input",{type:"file",accept:"image/*",onChange:W,ref:H,style:{display:"none"}})]}),a.photoUrl&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"file-chip",children:[e.jsx("span",{children:"Image selected"}),e.jsx("button",{type:"button",className:"chip-clear","aria-label":t("remove_photo"),onClick:()=>{i(r=>({...r,photoUrl:""})),u(""),H.current&&(H.current.value="")},children:e.jsx(ae,{})})]}),e.jsxs("div",{className:"preview-thumb-wrap",children:[e.jsx("img",{src:a.photoUrl,alt:"image preview",className:"preview-thumb"}),e.jsx("button",{type:"button",className:"preview-clear","aria-label":t("remove_photo"),onClick:()=>{i(r=>({...r,photoUrl:""})),u(""),H.current&&(H.current.value="")},children:e.jsx(ae,{})})]})]}),U&&e.jsx("span",{className:"form-error",role:"alert",style:{marginLeft:8},children:U})]}),e.jsxs("div",{className:"actions",style:{display:"flex",alignItems:"center",gap:12},children:[e.jsx("button",{className:"btn primary",type:"submit",disabled:w,children:t(w?"submitting":"submit_btn")}),w&&m!=="idle"&&e.jsx("span",{className:"muted",children:t(m==="submit"?"sending":m==="upload"?"uploading_photo":"finalizing")}),d&&e.jsx("span",{className:"muted",style:{marginLeft:12},children:d})]})]})}function yt({items:s}){const t=s.filter(m=>typeof m.location?.lat=="number"&&typeof m.location?.lng=="number"||m.location?.address),[a,i]=n.useState(t[0]?._id||"");if(t.length===0)return e.jsx("div",{className:"panel",children:e.jsx("div",{className:"muted",children:'No complaints with coordinates or address. Use "Use my location" to capture precise coordinates.'})});const u=t.find(m=>m._id===a)||t[0],k=typeof u.location?.lat=="number"&&typeof u.location?.lng=="number"?`https://maps.google.com/maps?q=${u.location.lat},${u.location.lng}&z=12&output=embed`:`https://maps.google.com/maps?q=${encodeURIComponent(u.location.address||"")}&z=12&output=embed`;return e.jsxs("div",{className:"panel notif-panel",children:[e.jsx("div",{className:"muted",children:"Pins shown for first location; switch to Google Maps API later with your key for interactive maps."}),e.jsx("iframe",{title:"map",src:k,style:{width:"100%",minHeight:360,border:0,borderRadius:12}}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:12,marginTop:16},children:t.map(m=>{const x=typeof m.location?.lat=="number"&&typeof m.location?.lng=="number",d=x?`https://maps.google.com/maps?q=${m.location.lat},${m.location.lng}&z=13&output=embed`:`https://maps.google.com/maps?q=${encodeURIComponent(m.location.address||"")}&z=13&output=embed`,N=x?`https://maps.google.com/?q=${m.location.lat},${m.location.lng}`:`https://maps.google.com/?q=${encodeURIComponent(m.location.address||"")}`;return e.jsxs("div",{className:"card",style:{padding:16},children:[e.jsxs("div",{className:"card-header",children:[e.jsx("h3",{className:"card-title",title:m.title,style:{fontSize:"1.05rem"},children:m.title}),e.jsx(he,{status:m.status||"Pending"})]}),e.jsx("div",{className:"card-subtitle",style:{marginBottom:10},children:x?`${Number(m.location.lat).toFixed(6)}, ${Number(m.location.lng).toFixed(6)}`:m.location?.address||"No address"}),e.jsx("iframe",{title:`map-${m._id}`,src:d,loading:"lazy",style:{width:"100%",height:160,border:0,borderRadius:10}}),e.jsxs("div",{className:"actions",style:{display:"flex",gap:8,marginTop:10},children:[e.jsx("button",{className:"btn ghost",onClick:()=>{i(m._id);const b=document.querySelector(".panel iframe");b&&b.scrollIntoView({behavior:"smooth",block:"start"})},children:"Focus on map"}),e.jsx("a",{className:"btn primary",href:N,target:"_blank",rel:"noopener noreferrer",children:P().t("open_in_maps")})]})]},m._id)})})]})}function Nt({token:s}){const{t}=P(),[a,i]=n.useState([]),[u,w]=n.useState(!0),[k,m]=n.useState(null),[x,d]=n.useState("all"),[N,b]=n.useState(""),S=Ie({volume:.85,cooldownMs:0});n.useEffect(()=>{let c=!0;const g=ge("user",s);try{S.setEnabled(!0),S.prime()}catch{}g.on("user:notification",h=>{i(H=>[{_id:String(Date.now()),message:h.message,type:h.type||"info",read:!1,createdAt:h.createdAt||new Date().toISOString(),complaintId:h.complaintId||void 0},...H]),S.play()}),(async()=>{try{const h=await te.list(s);c&&i(h.notifications);try{g.connect()}catch{}}catch(h){c&&m(h.message||"Failed to load notifications")}finally{c&&w(!1)}})();const G=setInterval(()=>{te.list(s).then(h=>i(h.notifications)).catch(()=>{})},1e4);return()=>{c=!1,clearInterval(G),g.disconnect()}},[s,S]);const U=a.filter(c=>!c.read).length;async function D(c){try{const g=await te.markRead(s,c);i(G=>G.map(h=>h._id===c?g.notification:h))}catch(g){m(g.message||"Failed to mark as read")}}async function L(){try{const c=await te.markAllRead(s);i(c.notifications)}catch(c){m(c.message||"Failed to clear notifications")}}const M=a.filter(c=>{const g=x==="all"?!0:!c.read,G=N.trim()===""?!0:c.message.toLowerCase().includes(N.trim().toLowerCase());return g&&G});return e.jsxs("div",{className:"panel",children:[e.jsxs("div",{className:"notif-header desktop-only",style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[e.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:6},children:[e.jsx(pe,{})," ",t("notifications_updates")]}),e.jsxs("span",{className:"badge",title:"Unread count",children:[U," ",t("unread")]})]}),e.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[e.jsxs("button",{className:"btn ghost",onClick:()=>{w(!0),te.list(s).then(c=>{i(c.notifications),w(!1)}).catch(()=>w(!1))},children:[e.jsx(We,{})," ",t("refresh")]}),e.jsxs("button",{className:"btn",onClick:L,children:[e.jsx(_e,{})," ",t("mark_all_read")]})]})]}),e.jsxs("div",{className:"notif-toolbar",style:{display:"flex",gap:10,alignItems:"center",marginBottom:12},children:[e.jsxs("div",{className:"search modern","aria-label":"Search notifications",style:{flex:1},children:[e.jsx(le,{}),e.jsx("input",{value:N,onChange:c=>b(c.target.value),placeholder:t("notifications_search_placeholder")}),N&&e.jsx("button",{className:"clear-btn",onClick:()=>b(""),title:t("clear"),children:e.jsx(ae,{})})]}),e.jsxs("div",{className:"filters",style:{display:"flex",gap:8},children:[e.jsx("span",{className:`pill ${x==="all"?"active":""}`,onClick:()=>d("all"),children:t("filter_all")}),e.jsx("span",{className:`pill ${x==="unread"?"active":""}`,onClick:()=>d("unread"),children:t("filter_unread")})]})]}),k&&e.jsx("div",{className:"form-error",children:k}),u?e.jsx("div",{className:"muted",children:t("notifications_loading")}):e.jsxs("div",{className:"notif-list",children:[M.map(c=>e.jsxs("div",{className:`notif-item ${c.read?"":"unread"}`,children:[e.jsxs("div",{className:"left",children:[e.jsx("div",{className:"title",children:c.type?c.type.toUpperCase():"UPDATE"}),e.jsx("div",{children:c.message}),e.jsx("div",{className:"meta",children:new Date(c.createdAt||"").toLocaleString()})]}),e.jsx("div",{className:"right",children:!c.read&&e.jsxs("button",{className:"btn sm",onClick:()=>D(c._id),children:[e.jsx(_e,{})," ",t("mark_read")]})})]},c._id)),M.length===0&&e.jsx("div",{className:"muted",children:t("no_notifications")})]})]})}function Se({token:s,profile:t,defaultTab:a="faq"}){const[i,u]=n.useState(a);return e.jsxs("div",{className:"panel support-panel",children:[e.jsxs("div",{className:"support-header",children:[e.jsx("h2",{children:P().t("support_heading")}),e.jsx("p",{className:"muted",children:P().t("support_intro")})]}),e.jsxs("div",{className:"tabs compact",children:[e.jsxs("button",{className:`tab ${i==="faq"?"active":""}`,onClick:()=>u("faq"),children:[e.jsx($e,{})," ",e.jsx("span",{children:P().t("faqs")})]}),e.jsxs("button",{className:`tab ${i==="chat"?"active":""}`,onClick:()=>u("chat"),children:[e.jsx(Ae,{})," ",e.jsx("span",{children:P().t("tab_chat")})]}),e.jsxs("button",{className:`tab ${i==="feedback"?"active":""}`,onClick:()=>u("feedback"),children:[e.jsx(fe,{})," ",e.jsx("span",{children:P().t("tab_feedback")})]})]}),e.jsxs("div",{className:"tab-body",children:[i==="faq"&&e.jsx(wt,{token:s}),i==="chat"&&e.jsx(St,{token:s}),i==="feedback"&&e.jsx(kt,{profile:t})]})]})}function wt({token:s}){const[t,a]=n.useState(""),[i,u]=n.useState(""),[w,k]=n.useState([]),[m,x]=n.useState([]),[d,N]=n.useState(null),[b,S]=n.useState({}),[U,D]=n.useState("relevance"),L=["All","Account Issues","Complaint Process","Technical Help"],M=["Account","Complaint","Technical","Ticket","Profile"];n.useEffect(()=>{let l=!0;return X.faqsList(t,i).then(_=>{l&&k(_.faqs)}).catch(()=>{}),X.faqVotes(s).then(_=>{if(!l)return;const R={};_.votes.forEach(V=>{R[V.faqId]=!0}),S(R)}).catch(()=>{}),()=>{l=!1}},[t,i,s]);function c(l){x(_=>_.includes(l)?_.filter(R=>R!==l):[..._,l])}function g(){x(w.map(l=>l._id))}function G(){x([])}const h=n.useMemo(()=>{let l=[...w];return U==="helpful"&&l.sort((_,R)=>R.helpfulCount-_.helpfulCount),U==="category"&&l.sort((_,R)=>_.category.localeCompare(R.category)),l},[w,U]);function H(l){const _=`${window.location.origin}/#faq-${l}`;navigator.clipboard?.writeText(_).catch(()=>{})}async function W(l,_){try{N(l);const V=(await X.faqVote(s,l,_))?.faq;k(f=>f.map(j=>j._id!==l?j:V?{...j,helpfulCount:V.helpfulCount,notHelpfulCount:V.notHelpfulCount}:{...j,helpfulCount:j.helpfulCount+(_?1:0),notHelpfulCount:j.notHelpfulCount+(_?0:1)})),S(f=>({...f,[l]:!0}))}catch(R){(R instanceof Error&&typeof R.message=="string"?R.message.toLowerCase():"").includes("already voted")?S(f=>({...f,[l]:!0})):(k(f=>f.map(j=>j._id===l?{...j,helpfulCount:j.helpfulCount+(_?1:0),notHelpfulCount:j.notHelpfulCount+(_?0:1)}:j)),S(f=>({...f,[l]:!0})))}finally{setTimeout(()=>N(null),400)}}return e.jsxs("div",{children:[e.jsxs("div",{className:"faq-search",children:[e.jsxs("div",{className:"search",children:[e.jsx(le,{}),e.jsx("input",{value:t,onChange:l=>a(l.target.value),placeholder:"Search questions…"})]}),e.jsxs("div",{className:"faq-toolbar",children:[e.jsxs("div",{className:"results-count",children:[h.length," results"]}),e.jsxs("div",{className:"sort",children:[e.jsx(Fe,{}),e.jsxs("select",{value:U,onChange:l=>D(l.target.value),className:"sort-select",children:[e.jsx("option",{value:"relevance",children:"Relevance"}),e.jsx("option",{value:"helpful",children:"Most Helpful"}),e.jsx("option",{value:"category",children:"Category"})]})]}),e.jsxs("div",{className:"expand",children:[e.jsxs("button",{className:"btn sm",onClick:g,children:[e.jsx(ye,{})," Expand all"]}),e.jsxs("button",{className:"btn sm ghost",onClick:G,children:[e.jsx(Ye,{})," Collapse all"]})]})]})]}),e.jsxs("div",{className:"faq-filters",children:[L.map(l=>e.jsx("button",{className:`pill ${i===""&&l==="All"||i===l?"active":""}`,onClick:()=>u(l==="All"?"":l),children:l},l)),e.jsx("button",{className:"pill ghost",onClick:()=>{a(""),u("")},children:"Clear"}),e.jsx("div",{className:"suggestions",children:M.map(l=>e.jsx("button",{className:"chip",onClick:()=>a(l),children:l},l))})]}),e.jsxs("div",{className:"accordion",children:[h.map(l=>e.jsxs("div",{className:`accordion-item ${m.includes(l._id)?"open":""}`,id:`faq-${l._id}`,children:[e.jsxs("button",{className:"accordion-header",onClick:()=>c(l._id),children:[e.jsx("span",{className:"question",children:l.question}),e.jsxs("div",{className:"accordion-meta",children:[e.jsx("span",{className:"badge",children:l.category}),e.jsxs("span",{className:"helpful",children:[l.helpfulCount," found helpful"]}),e.jsx(ye,{})]})]}),e.jsx(ot,{initial:!1,children:m.includes(l._id)&&e.jsxs(lt.div,{className:"accordion-body",initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25},children:[e.jsx("p",{children:l.answer}),e.jsxs("div",{className:"faq-actions",children:[e.jsxs("div",{className:"vote-group","aria-label":"Was this helpful?",children:[e.jsxs("button",{className:"vote",disabled:d===l._id||!!b[l._id],onClick:()=>W(l._id,!0),children:[e.jsx(Xe,{})," Helpful ",e.jsx("span",{className:"count",children:l.helpfulCount})]}),e.jsxs("button",{className:"vote ghost",disabled:d===l._id||!!b[l._id],onClick:()=>W(l._id,!1),children:[e.jsx(Ze,{})," Not helpful ",e.jsx("span",{className:"count",children:l.notHelpfulCount})]})]}),!!b[l._id]&&e.jsx("div",{className:"muted",style:{fontSize:12},children:"You have already voted for this question."}),e.jsxs("button",{className:"btn sm ghost",onClick:()=>H(l._id),children:[e.jsx(et,{})," Copy link"]})]})]})})]},l._id)),h.length===0&&e.jsx("div",{className:"muted",children:"No FAQs found. Try different keywords."})]})]})}function St({token:s}){const[t,a]=n.useState(!0),[i,u]=n.useState([]),[w,k]=n.useState("");n.useEffect(()=>{X.chatList(s).then(x=>u(x.messages)).catch(()=>{})},[s]);async function m(){const x=w.trim();if(x){k("");try{const d=await X.chatSend(s,x,!0);u(N=>[...N,...d.messages])}catch{}}}return e.jsxs("div",{children:[e.jsxs("div",{className:"chat-widget",children:[e.jsxs("div",{className:"chat-header",children:[e.jsx("span",{children:"Live Support"}),e.jsx("button",{className:"btn sm ghost",onClick:()=>a(x=>!x),children:t?e.jsx(ae,{}):P().t("chat_toggle_open")})]}),t&&e.jsxs("div",{className:"chat-body",children:[e.jsx("div",{className:"chat-thread",children:i.map((x,d)=>e.jsx("div",{className:`bubble ${x.role}`,children:x.content},x._id||d))}),e.jsxs("div",{className:"chat-input",children:[e.jsx("input",{value:w,onChange:x=>k(x.target.value),placeholder:P().t("type_message_placeholder")}),e.jsxs("button",{className:"btn",onClick:m,children:[e.jsx(tt,{})," ",P().t("send_btn")]})]})]})]}),e.jsx("button",{className:"chat-floating-button",title:"Support Chat",onClick:()=>a(!0),children:e.jsx(Ae,{})})]})}function kt({profile:s}){const[t,a]=n.useState(0),[i,u]=n.useState(""),[w,k]=n.useState(!1),[m,x]=n.useState({average:0,count:0}),[d,N]=n.useState([]),[b,S]=n.useState(!1);n.useEffect(()=>{X.feedbackStats().then(x).catch(()=>{})},[]),n.useEffect(()=>{X.feedbackList().then(c=>N(c.feedbacks)).catch(()=>{})},[]);async function U(){if(!t){alert("Please select a rating");return}await X.feedbackSubmit({rating:t,text:i,anonymous:w,userId:w?null:s?.id||null});const c=await X.feedbackStats();x(c);const g=await X.feedbackList().catch(()=>null);g&&N(g.feedbacks)}const L=t?["Very Poor","Poor","Okay","Good","Excellent"][t-1]:"Select a rating",M=t<=2?"var(--sp-danger)":t===3?"#f59e0b":"var(--sp-success)";return e.jsxs("div",{className:"feedback-card",children:[e.jsxs("div",{className:"feedback-header",children:[e.jsx("h3",{children:P().t("feedback_heading")}),e.jsx("div",{className:"muted",children:"Help us improve your experience"})]}),e.jsxs("div",{className:"rating-row",children:[e.jsx("div",{className:"rating-stars",children:[1,2,3,4,5].map(c=>e.jsx("button",{className:`star ${t>=c?"filled":""}`,onClick:()=>a(c),"aria-label":`${c} star`,children:"★"},c))}),e.jsx("div",{className:"rating-label",style:{color:M},children:L})]}),e.jsxs("div",{className:"desc-field",children:[e.jsxs("div",{className:"desc-header",children:[e.jsx("span",{className:"label",children:P().t("feedback_optional_label")}),e.jsxs("span",{className:"char-count",children:[i.length," / 500"]})]}),e.jsx("textarea",{className:"feedback-textarea",value:i,onChange:c=>u(c.target.value),rows:5,maxLength:500,placeholder:"Share details respectfully. Be specific and constructive."}),e.jsx("div",{className:"hint muted",children:"Avoid sensitive personal data. Focus on the experience."})]}),e.jsxs("div",{className:"toggle-row",children:[e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:c=>k(c.target.checked)}),e.jsx("span",{className:"knob"}),e.jsx("span",{className:"label",children:"Submit anonymously"})]}),e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:c=>S(c.target.checked)}),e.jsx("span",{className:"knob"}),e.jsx("span",{className:"label",children:"Show overall average"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"btn primary",onClick:U,disabled:!t,children:P().t("send_feedback")}),e.jsx("button",{className:"btn ghost",onClick:()=>{a(0),u(""),k(!1)},children:"Reset"})]}),b&&e.jsxs("div",{className:"feedback-stats","aria-live":"polite",children:[e.jsx("div",{className:"meter",children:e.jsx("div",{className:"bar",style:{width:`${Math.round(m.average/5*100)}%`}})}),e.jsx("div",{className:"avg-stars","aria-label":`Average ${m.average.toFixed(1)} out of 5`,children:[1,2,3,4,5].map(c=>e.jsx("span",{className:`a-star ${m.average>=c?"filled":""}`,children:"★"},c))}),e.jsxs("div",{className:"muted",children:["Avg ",m.average.toFixed(1)," · ",m.count," submissions"]})]}),e.jsxs("div",{className:"feedback-list",children:[e.jsxs("div",{className:"list-header",children:[e.jsx("h4",{children:P().t("recent_feedback")}),e.jsxs("div",{className:"muted",children:[d.length," entries"]})]}),e.jsx("ul",{className:"list","aria-live":"polite",children:d.map(c=>e.jsxs("li",{className:"feedback-item",children:[e.jsxs("div",{className:"item-head",children:[e.jsx("div",{className:"avatar","aria-hidden":!0,children:(c.username||"U")[0].toUpperCase()}),e.jsxs("div",{className:"user",children:[e.jsx("div",{className:"name",children:c.username}),e.jsx("div",{className:"date muted",children:new Date(c.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"rating-badge",title:`Rated ${c.rating} out of 5`,children:[e.jsx(fe,{})," ",e.jsxs("span",{children:[c.rating,"/5"]})]})]}),c.text&&e.jsx("div",{className:"text",children:c.text})]},c.id))})]})]})}const Et=Object.freeze(Object.defineProperty({__proto__:null,default:pt},Symbol.toStringTag,{value:"Module"}));export{Et as U,Z as c};
