import{r as i,j as e}from"./charts-FoNSDMOs.js";import{j as o,k as u,l as p,m as f}from"./index-D8KJrxB-.js";import{s as j}from"./api-CQIUfn0V.js";import{A as v,m as c}from"./motion-B__JDtHc.js";import"./react-BzrpNAyj.js";import"./icons-CvT1UHUk.js";const g=[{author:"Amit Sharma",role:"Citizen",text:"Filed a complaint with photos and got updates within hours. Very transparent and efficient!",icon:e.jsx(o,{})},{author:"Inspector Rao",role:"Police Officer",text:"The dashboard improves our response time and makes case tracking organized and efficient.",icon:e.jsx(p,{})},{author:"Neha Kulkarni",role:"Citizen",text:"Love the real-time tracking and professional look. It builds trust and reliability in the system.",icon:e.jsx(f,{})},{author:"Raj Patel",role:"Citizen",text:"Filing complaints is effortless and the progress tracking makes me feel connected to justice.",icon:e.jsx(o,{})}];function A(){const[n,m]=i.useState(0),[r,d]=i.useState([]);i.useEffect(()=>{let s=!0;return j.feedbackList().then(a=>{s&&d((a.feedbacks||[]).filter(x=>(x.text||"").trim().length>0))}).catch(()=>{}),()=>{s=!1}},[]);const t=i.useMemo(()=>r.length>0?r.map(s=>({author:s.username||"User",role:(s.username||"User")==="Anonymous"?"Citizen":"User",text:s.text,icon:e.jsx(o,{})})):g,[r]),l=t.length>=2?2:1;i.useEffect(()=>{const s=setInterval(()=>m(a=>(a+l)%t.length),6e3);return()=>clearInterval(s)},[t.length,l]);const h=t.length>=2?[t[n],t[(n+1)%t.length]]:[t[n]];return e.jsxs("section",{id:"testimonials",className:"testimonials-section",children:[e.jsx("div",{className:"testimonials-overlay"}),e.jsxs("div",{className:"testimonials-header",children:[e.jsx("h2",{children:"What People Say"}),e.jsx("p",{children:"Real experiences shared by citizens and officers."})]}),e.jsx("div",{className:"testimonials-container",children:e.jsx(v,{mode:"wait",children:e.jsx(c.div,{className:"testimonial-grid",initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{duration:.6},children:h.map((s,a)=>e.jsxs(c.div,{className:"testimonial-card",whileHover:{scale:1.03},children:[e.jsx("div",{className:"icon-wrapper",children:s.icon}),e.jsxs("p",{className:"testimonial-text",children:[e.jsx(u,{className:"quote-icon"})," ",s.text]}),e.jsxs("div",{className:"testimonial-meta",children:[e.jsx("div",{className:"avatar",children:s.author.charAt(0)}),e.jsxs("div",{className:"author-info",children:[e.jsx("span",{className:"author",children:s.author}),e.jsx("span",{className:"role",children:s.role})]})]})]},a))},n)})})]})}export{A as default};
